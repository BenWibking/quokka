# *****************************************************************
# Problem size and geometry
# *****************************************************************
geometry.prob_lo     =  0.0  0.0  0.0 
geometry.prob_hi     =  2.4688e+21  6.172e+20  6.172e+20  # 800 x 200 x 200 pc
geometry.is_periodic =  0    1    1

# *****************************************************************
# VERBOSITY
# *****************************************************************
amr.v               = 1     # verbosity in Amr

# *****************************************************************
# Resolution and refinement
# *****************************************************************
amr.n_cell          = 256 64 64
amr.max_level       = 0     # number of levels = max_level + 1
amr.blocking_factor = 16  	# grid size must be divisible by this
amr.max_grid_size   = 64

# *****************************************************************
# Quokka options
# *****************************************************************
cfl = 0.3
do_reflux = 1
do_subcycle = 1
max_walltime = 6:00:00
max_timesteps = 20000
max_t_cc = 20.0

checkpoint_interval = 500
plotfile_interval = 200
projection_interval = 20
projection.dirs = x z
ascent_interval = 20
statistics_interval = 20
derived_vars = pressure entropy nH temperature cooling_length \
	       cloud_fraction lab_velocity_x mass velocity_mag c_s

cooling.enabled = 1
cooling.read_tables_even_if_disabled = 1
cooling.grackle_data_file = "./isrf_1000Go_grains.h5"
temperature_floor = 100

sharp_cloud_edge = 1
do_frame_shift = 1
nH_bg    = 3.356403e-03 # cm^-3
nH_cloud = 1.006921e+00 # cm^-3
P_over_k = 1.304005e+04   # K cm^-3
R_cloud_pc = 16.09084149928867 # pc
Mach_shock = 1.888892847795999

quokka.diagnostics = hist_temp

## Histogram output

quokka.hist_temp.type = DiagPDF                         # Diagnostic type
quokka.hist_temp.file = PDFTemp                         # Output file prefix
quokka.hist_temp.int  = 10                              # Output cadence (in number of coarse steps)
quokka.hist_temp.normalized = 1                         # (Optional, default: 1) Normalize PDF
quokka.hist_temp.volume_weighted = 1                    # (Optional, default: 1) Volume-weighted PDF
quokka.hist_temp.var_names = temperature gasDensity     # Variable(s) of interest (compute a N-D histogram)

quokka.hist_temp.temperature.nBins = 20                 # temperature: Number of bins
quokka.hist_temp.temperature.log_spaced_bins = 1        # temperature: (Optional, default: 0) Use log-spaced bins
quokka.hist_temp.temperature.range = 1e3 1e7            # temperature: (Optional) Specify the min/max of the bins

quokka.hist_temp.gasDensity.nBins = 5                   # gasDensity: Number of bins
quokka.hist_temp.gasDensity.log_spaced_bins = 1         # gasDensity: (Optional, default: 0) Use log-spaced bins
quokka.hist_temp.gasDensity.range = 1e-29 1e-23         # gasDensity: (Optional) Specify the min/max of the bins
